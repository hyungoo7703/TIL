>참고: [https://meetup.toast.com/posts/92](https://meetup.toast.com/posts/92) // [https://ko.wikipedia.org/wiki/REST](https://ko.wikipedia.org/wiki/REST)
# REST API

REST API는 소프트웨어 아키텍처의 한 형식으로 자원을 이름으로 구분하여 자원의 정보를 주고 받는 모든 것이다. <br>
기본적으로 웹의 기존 기술과 HTTP 프로토콜을 그대로 활용하기에 장점이 극대화 된다. <br>

결론적으로 말하면, **자원을 행위로 표현하여 상태를 전달하는 것** 의 역할을 하는 뼈대라고 할 수 있다.

## REST API 구성

+ 자원(Resource)
  + URI를 통해 자원을 명시
  + 모든 자원에 고유한 ID 존재
+ 행위(Verb) - HTTP METHOD: GET, POST, PUT, PATCH, DELETE
+ 표현(Representations)
  + JSON, XML, TEXT 등 다양한 형태로 표현
  + 자원의 현재 상태를 표현
 
위 구성 요소를 통해 상태 전달 - 데이터가 요청되는 시점의 자원의 상태 (ex JSON)

## REST에 적용되는 제한 조건, 특징

1. 일관된 인터페이스
REST는 일관적인 인터페이스로 분리되어야 한다

2. 무상태(Stateless)
각 요청 간 클라이언트의 정보가 서버에 저장되어서는 안 된다. 즉 들어오는 요청만을 단순히 처리하면 되기에 자유도가 높아지고 구현이 단순해진다. <br>

3. 캐시 처리 가능(Cacheable)
위에서 언급한 것처럼 HTTP라는 기존 웹표준을 그대로 쓰기에 WWW에서와 같이 클라이언트는 응답을 캐싱할 수 있어야 한다.

4. 계층화
클라이언트는 보통 대상 서버에 직접 연결되었는지, 또는 중간 서버를 통해 연결되었는지를 알 수 없다. <br>
따라서 중간 서버는 로드 밸런싱 기능이나 공유 캐시 기능을 제공함으로써 시스템 규모 확장성을 향상시키는 데 유용하다.

5. 클라이언트/서버구조
각각의 역할이 확실히 구분되기 때문에 클라이언트와 서버에서 개발해야 할 내용이 명확해지고 서로간 의존성이 줄어들게 된다.

6. 자체 표현 구조
REST API의 메시지만 보고도 이를 쉽게 이해할 수 있는 자체 표현 구조로 되어있다.

<br>
&nbsp;&nbsp;※&nbsp; Stateful 과 Stateless 차이 <br><br>

+ Stateful 상태유지 (이전 상태를 보존) <br>
+ Stateless 무상태 <br>
즉 무상태 프로토콜이란? 서버가 클라이언트의 상태를 보존X <br>
장점: 서버 확장성 높음(스케일 아웃) <br>
단점: 클라이언트가 추가 데이터 전송

## REST 인터페이스의 원칙 

1. 자원의 식별
자원 그 자체는 클라이언트가 받는 문서와는 개념적으로 분리되어 있으므로 <br>
서버는 데이터베이스 내부의 자료를 직접 전송하는 대신, 데이터베이스 레코드를 HTML, XML이나 JSON 등의 형식으로 전송한다.

2. 메시지를 통해 리소스의 조작하며 이때 메시지는 자가 서술적 이어야 한다.
메시지는 자신을 어떻게 처리해야 하는지에 대한 충분한 정보를 포함해야 한다. 이를 이해하기 위해 그 내용까지 살펴봐야 한다면, 그 메시지는 자기 서술적이 아니다. <br>
예를 들어, 단순히 "application/json"이라는 미디어 타입은, 실제 내용을 다운로드 받지 않으면 그 메시지만 가지고는 무엇을 해야할지에 대해 충분히 알려주지 못한다.

## 디자인 가이드

아래의 예시와 같이 설계 할 수 있다. 이 예시에서 Resource는 'Users' + 계층구조를 활용 <br>
/Users - 목록 조회, 등록 <br>
/Users/{id} - id 조회, 수정, 삭제  <br>

```
/Users  //GET: User 전체 조회
/USers  //POST: 요청 데이터 처리, User 등록
/Users/{id} //GET: User id로 조회
/Users/{id} //PUT: 해당 User 수정
/Users/{id} //DELETE: 해당 User 삭제
```

정리를 한다면 **URI에 Resource을 표현하고 행위는 HTTP Method로 표현한다.** 이다. <br>
즉 Resource와 Method를 분리하는 것이 중요하다고 할 수 있다. <br>
