## 문제인식
orders 테이블이 점점 커질수록 심각한 성능 저하 발생이슈가 발생했다.
아래는 기존에 작성되어있던 쿼리로서 <br>
<b>N+1 문제와 유사한 상황 발생하고 있던 것</b>으로 보였다.

```SQL
-- 상관 서브쿼리에서 잘못된 테이블 참조
SELECT * FROM orders o
WHERE amount > (
    SELECT AVG(amount) FROM orders
    WHERE user_id = o.user_id  -- 의도치 않은 순환 참조
);
```

# 구문(Syntax) 오류

