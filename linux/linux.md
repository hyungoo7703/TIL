# Linux 명령어

Linux에는 매우 많은 명령어가 있지만, <br> 
내가 자주 사용하는 명령어 들을 정리해 보았다.

-----

## 파일 및 디렉토리 관리

### 1. ls: 디렉토리 내용 나열
```
ls -l //상세 정보 표시
ls -a //숨김 파일 포함 모든 파일 표시

ls -al //숨김 파일 포함 모든 파일 표시 + 상세 정보 표시
```

### 2. cd: 디렉토리 변경
```
cd [디렉토리 경로]
```

> #### 주요 단축키
```
cd ~ //홈 디렉토리로 이동
cd / //루트 디렉토리로 이동
cd .. //한 단계 상위 디렉토리로 이동
cd - //이전 작업 디렉토리로 이동
```

> #### 상대 경로와 절대 경로
+ 상대 경로: 현재 위치를 기준으로 경로 지정 (예: cd ./Documents)
+ 절대 경로: 루트 디렉토리부터 전체 경로 지정 (예: cd /home/user/Documents)

### 3. 생성/수정/삭제
```
# 디렉토리 생성/삭제
mkdir [디렉토리명] //디렉토리 생성
rmdir [디렉토리명] //빈 디렉토리 삭제
rm -r [디렉토리명] //디렉토리와 내부 파일 모두 삭제

# 파일 생성/삭제
touch [파일명] //빈 파일 생성
rm [파일명] //파일 삭제
rm -f [파일명] //강제 삭제

# 복사/이동
cp [원본] [대상] //파일 복사
cp -r [원본] [대상] //디렉토리 복사
mv [원본] [대상] //파일 또는 디렉토리 이동 또는 이름 변경
```

## 시스템 정보 및 관리

### 1. top: 실시간 시스템 모니터링
```
top
```

### 2. ps: 현재 실행 중인 프로세스 정보 표시
```
ps -e //시스템의 모든(every) 프로세스를 보여준다.(기본적인 정보만)
ps -f //현재 사용자의 프로세스만 보여주며 full-format으로 더 자세한 정보를 보여줌

ps -ef //모든 프로세스를 full-format으로 보여줌

ps aux //BSD 스타일 명령어(아래 설명 참고)
```

> #### ps는 세 가지 형식의 옵션을 지원
+ UNIX 스타일: 하이픈(-)으로 시작
+ BSD 스타일: 하이픈 없이 사용
  + a: 터미널과 연결된 모든 프로세스
  + u: 프로세스 소유자 정보
  + x: 터미널에 연결되지 않은 프로세스도 표시
+ GNU 스타일: 이중 하이픈(--)으로 시작

> #### ps -ef 사용시 가장 많이 쓰는 형태
```
# 특정 프로세스 이름으로 검색
ps -ef | grep [이름]
```
파이프(|)는 첫 번째 명령어의 출력을 두 번째 명령어의 입력으로 전달 + <br>
grep 명령어(grep은 텍스트 검색 도구로, 특정 패턴이나 문자열을 찾는데 사용) <br>
**즉 전체 프로세스 중 특정 프로세스를 이름으로 찾아서 보여주는 것이 됨.**

### 3. df: 디스크 공간 사용량 확인
```
df -h //사람이 읽기 쉬운 형태로 디스크 사용량을 표시
```

### 4. free: 메모리 사용량 확인
```
free -h //사람이 읽기 쉬운 단위로 메모리 사용량 표시
```

## 파일 검색 및 텍스트 처리

### 1. find: 파일 시스템에서 파일을 검색
```
find [검색경로] [옵션] [검색어]
```

> #### 주요 사용 예시
```
find . -name "*test*" //현재 디렉토리에서 test라는 이름이 포함된 모든 파일 검색
find . -size +500M //현재 디렉토리에서 500MB보다 큰 파일 검색
find . -mtime -7 //현재 디렉토리에서 7일 이내에 수정된 파일 검색
find . -name "*.txt" -exec rm {} \; //현재 디렉토리에서 txt 파일만 검색하여 삭제
```

### 2. grep: 파일 내용에서 특정 패턴이나 문자열을 검색
```
grep [옵션] [패턴] [파일명]
```

### 3. tail/head: 파일의 뒷부분/앞부분 보는데 사용
```
tail -f log.txt //실시간으로(-f) 로그 파일 모니터링
tail -n 100 file.txt //마지막 100줄 보기

head -n 10 file.txt //처음 10줄 보기
```

## 네트워크 관련

### 1. ping: 네트워크 연결성을 테스트
```
ping google.com    # Google 서버로 ping 테스트
ping -c 4 8.8.8.8  # 4번 ping 테스트 수행
```

### 2. nslookup: 도메인 이름을 IP 주소로 변환하거나 그 반대로 조회
```
nslookup google.com    # Google.com의 IP 주소 조회
```

### 3. netstat: 시스템의 네트워크 상태를 모니터링하고 분석하는 핵심 도구
네트워크 연결, 라우팅 테이블, 인터페이스 통계 등을 표시한다.
```
# 가장 자주 사용되는 조합
netstat -tulnp    # TCP/UDP 리스닝 포트와 프로그램 정보 표시
netstat -an       # 모든 연결을 숫자로 표시
netstat -nat      # TCP 연결을 숫자로 표시
```

> #### TCP (Transmission Control Protocol)
연결형 서비스로 1:1 통신이며 전송 순서는 보장된다. 신뢰성은 높으나 상대적으로 느리다. (ex 파일 전송, 이메일 전송)

> #### UDP (User Datagram Protocol)
비연결형 서비스로 1:1, 1:N, N:N 통신이며 전송 순서는 바뀔 수 있다. 속도가 빠르나 신뢰성이 낮다. (ex 실시간 스트리밍, 화상 회의)

> #### netstat 고급활용
1. 보안 모니터링
```
# 의심스러운 연결 확인
netstat -nat | grep ':80' | grep ESTABLISHED
# 특정 포트의 연결 상태 모니터링
netstat -an | grep LISTEN
```

2. 실시간 모니터링
```
# 1초마다 네트워크 상태 업데이트
netstat -c
# 인터페이스 통계 실시간 모니터링
netstat -ic
```

## 권한 관리
디렉토리 내용 나열 명령어를 이용하면(예: ls -al), 파일과 디렉토리의 권한을 확인할 수 있다.

### 1. chmod: 파일이나 디렉토리의 권한을 변경하는 명령어
```
chmod [옵션] 모드 파일명
```
chmod 명령어는 두가지 방법으로 사용된다. <br>

1. 숫자를 사용한 권한 변경
```
chmod 755 filename  //사용자(rwx), 그룹(r-x), 기타(r-x)
chmod 644 filename  //사용자(rw-), 그룹(r--), 기타(r--)
chmod 777 filename  //모든 사용자에게 모든 권한 부여
```
> #### 자주 사용되는 숫자 조합:
+ 777: 모든 사용자에게 모든 권한 부여
+ 755: 소유자는 모든 권한, 그룹과 기타 사용자는 읽기/실행 권한
+ 644: 소유자는 읽기/쓰기, 그룹과 기타 사용자는 읽기만 가능
+ 700: 소유자만 모든 권한을 가짐

2. 기호를 사용한 권한 변경
```
chmod u+x filename  //사용자에게 실행 권한 추가
chmod g-w filename  //그룹의 쓰기 권한 제거
chmod o+r filename  //기타 사용자에게 읽기 권한 추가
```
  
### 2. chown: 파일이나 디렉토리의 소유자를 변경하는 명령어
```
chown user1 filename           //소유자만 변경
chown user1:group1 filename    //소유자와 그룹 동시 변경
chown -R user1 directory/     //디렉토리와 하위 항목의 소유자 변경
```
